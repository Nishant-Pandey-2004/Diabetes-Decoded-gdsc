<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test diabetes</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 p-4 w-full">
    <div class="overflow-y-scroll h-screen">
    <h1 class="text-2xl font-semibold mb-4">Test Diabetes</h1>
    <div class="bg-white rounded p-6 shadow-md">
        <form class="flex">
            <div class="w-1/2">
            <div class="mb-4">
                <div class="mb-4">
                    <label for="age" class="block text-sm font-medium text-gray-700">Age:</label>
                    <input type="number" id="age" name="age" class="mt-1 p-2 border border-gray-300 rounded w-full">
                </div>
                <label for="gender" class="block text-sm font-medium text-gray-700">Gender:</label>
                <div class="mt-1">
                    <input id="male" name="gender" type="radio" class="mr-2" value="male">
                    <label for="male" class="text-sm font-medium text-gray-700"> Male </label>
                    <input id="female" name="gender" type="radio" class="mr-2 ml-4" value="female">
                    <label for="female" class="text-sm font-medium text-gray-700"> Female </label>
                </div>
            </div>
            <div class="mb-4">
                <label for="bloodGlucose" class="block text-sm font-medium text-gray-700">Blood Glucose Level:</label>
                <input type="number" id="bloodGlucose" name="bloodGlucose"
                    class="mt-1 p-2 border border-gray-300 rounded w-full">
            </div>
            <div class="mb-4">
                <label for="bloodPressure" class="block text-sm font-medium text-gray-700">Blood Pressure:</label>
                <input type="text" id="bloodPressure" name="bloodPressure"
                    class="mt-1 p-2 border border-gray-300 rounded w-full">
            </div>
            <div class="mb-4">
                <label for="bmi" class="block text-sm font-medium text-gray-700">BMI:</label>
                <input type="number" id="bmi" name="bmi" class="mt-1 p-2 border border-gray-300 rounded w-full">
            </div>
            <div class="mb-4">
                <label for="skinThickness" class="block text-sm font-medium text-gray-700">Skin Thickness:</label>
                <input type="number" id="skinThickness" name="skinThickness"
                    class="mt-1 p-2 border border-gray-300 rounded w-full">
            </div>
            <div class="mb-4">
                <label for="insulin" class="block text-sm font-medium text-gray-700">Insulin:</label>
                <input type="text" id="insulin" name="insulin" class="mt-1 p-2 border border-gray-300 rounded w-full">
            </div>
            <div class="mb-4">
                <label for="hypertension" class="block text-sm font-medium text-gray-700">Hypertension:</label>
                
                <select id="hypertension" name="hypertension" class="mt-1 p-2 border border-gray-300 rounded w-full">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>
            
            <div class="mb-4">
                <label for="diabetesFamilyHistory" class="block text-sm font-medium text-gray-700">Family history of
                    diabetes:</label>
                <select id="diabetesFamilyHistory" name="diabetesFamilyHistory"
                    class="mt-1 p-2 border border-gray-300 rounded w-full">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="physicallyActive" class="block text-sm font-medium text-gray-700">Physically active:</label>
                <select id="physicallyActive" name="physicallyActive"
                    class="mt-1 p-2 border border-gray-300 rounded w-full">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>
        </div>

        <div class="w-1/2">
            <img src="hero.png" alt="Hero Image">
            <div class="flex justify-center items-center">
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-800">Test Now</button>            </div>
        </div>
        </form>
        
        
    </div>

</div>
    <script>
        var isListening = false;
    
        // Listen for keyboard key presses
        document.addEventListener("keydown", function (event) {
            if (event.key === " ") {
                greet();
            }
            if (event.key === "1") {
                enterAge();
            } else if (event.key === "2") {
                enterGender();
            } else if (event.key === "3") {
                enterBloodGlucose();
            } else if (event.key === "4") {
                enterBloodPressure();
            } else if (event.key === "5") {
                enterBMI();
            } else if (event.key === "6") {
                enterSkinThickness();
            } else if (event.key === "7") {
                enterInsulin();
            } else if (event.key === "8") {
                enterHypertension();
            } else if (event.key === "9") {
                enterDiabetesFamilyHistory();
            } else if (event.key === "0") {
                enterPhysicallyActive();
            }
            if (event.key === "1" || event.key === "2" || event.key === "3" || event.key === "4" || event.key === "5" || event.key === "6" || event.key === "7" || event.key === "8" || event.key === "9" || event.key === "0") {
                startListening(); // Start listening when 1-9 or 0 is pressed
            }
        });
    
        var recognition = new webkitSpeechRecognition();
        recognition.lang = "en-GB";
        recognition.continuous = true;
    
        recognition.onstart = function () {
            isListening = true;
        }
    
        recognition.onend = function () {
            isListening = false;
        }
    
        recognition.onresult = function (event) {
            if (isListening) {
                var transcript = event.results[event.results.length - 1][0].transcript;
                console.log(transcript)
                processSpeech(transcript);
            }
        }
    
        function startListening() {
            recognition.start();
        }
    
        function processSpeech(transcript) {
            console.log(transcript);
            if (age === "") {
                age = transcript;
                speak("Age set to " + age + ". Please say the gender.");
            } else if (gender === "") {
                gender = transcript;
                speak("Gender set to " + gender + ". Please say the blood glucose level.");
            } else if (bloodGlucose === "") {
                bloodGlucose = transcript;
                speak("Blood glucose level set to " + bloodGlucose + ". Please say the blood pressure.");
            } else if (bloodPressure === "") {
                bloodPressure = transcript;
                speak("Blood pressure set to " + bloodPressure + ". Please say the BMI.");
            } else if (bmi === "") {
                bmi = transcript;
                speak("BMI set to " + bmi + ". Please say the skin thickness.");
            } else if (skinThickness === "") {
                skinThickness = transcript;
                speak("Skin thickness set to " + skinThickness + ". Please say the insulin level.");
            } else if (insulin === "") {
                insulin = transcript;
                speak("Insulin level set to " + insulin + ". Please say if the person has hypertension, yes or no.");
            } else if (hypertension === "") {
                hypertension = transcript;
                speak("Hypertension set to " + hypertension + ". Please say if there is a family history of diabetes, yes or no.");
            } else if (diabetesFamilyHistory === "") {
                diabetesFamilyHistory = transcript;
                speak("Family history of diabetes set to " + diabetesFamilyHistory + ". Please say if the person is physically active, yes or no.");
            } else if (physicallyActive === "") {
                physicallyActive = transcript;
                speak("Physically active set to " + physicallyActive + ". Thank you. Form submission ready. Press Enter to submit.");
            } else if (transcript.toLowerCase() === "submit") {
                submitForm();
            }
        }
    
        function greet() {
            speak("Hello! I am your assistant. Please provide the following information by speaking.");
        }
    
        function enterAge() {
            speak("Please say the age.");
        }
    
        function enterGender() {
            speak("Please say the gender.");
        }
    
        function enterBloodGlucose() {
            speak("Please say the blood glucose level.");
        }
    
        function enterBloodPressure() {
            speak("Please say the blood pressure.");
        }
    
        function enterBMI() {
            speak("Please say the BMI.");
        }
    
        function enterSkinThickness() {
            speak("Please say the skin thickness.");
        }
    
        function enterInsulin() {
            speak("Please say the insulin level.");
        }
    
        function enterHypertension() {
            speak("Please say if the person has hypertension, yes or no.");
        }
    
        function enterDiabetesFamilyHistory() {
            speak("Please say if there is a family history of diabetes, yes or no.");
        }
    
        function enterPhysicallyActive() {
            speak("Please say if the person is physically active, yes or no.");
        }
    
        function submitForm() {
            speak("Form submitted successfully. Thank you!");
        }
    
        function speak(text) {
            var synth = window.speechSynthesis;
            var utterance = new SpeechSynthesisUtterance(text);
            synth.speak(utterance);
        }
    </script>
    
    
</body>

</html>